[
    {
        "id": "9e95f962de164512",
        "type": "tab",
        "label": "dump1090",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a434980c0d70073f",
        "type": "tab",
        "label": "map",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9484dc2f12c3f5c6",
        "type": "tab",
        "label": "map buttons",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "eeaa68697bf28d0e",
        "type": "tab",
        "label": "dashboard",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d159cb379744e1be",
        "type": "junction",
        "z": "eeaa68697bf28d0e",
        "x": 640,
        "y": 140,
        "wires": [
            [
                "ac14fbfe9a152586",
                "e28964d4782e8217",
                "b9cb0a1cdd3f4461",
                "07105d583fe42a36",
                "bc236f22919be28f",
                "9130f980f5816580",
                "74330f337669ee8e",
                "94b4ed28bf5f5067",
                "ccbf121cac399284",
                "30dd1bf03fb3b359",
                "4cd24fa4a2a8069e",
                "ad0dba40fedc6dfe"
            ]
        ]
    },
    {
        "id": "65a0877e913c9221",
        "type": "ui_tab",
        "name": "Plane Spotter",
        "icon": "fa-plane",
        "disabled": false,
        "hidden": true
    },
    {
        "id": "5c701558e935be96",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#004993",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#004993",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#004993",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#006fdf",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#004993",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Plane Spotter",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "8363fd07a79e8b50",
        "type": "ui_group",
        "name": "Map",
        "tab": "65a0877e913c9221",
        "order": 2,
        "disp": false,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "350b84a00a67874f",
        "type": "ui_group",
        "name": "Aircraft",
        "tab": "65a0877e913c9221",
        "order": 3,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2a53099271750475",
        "type": "ui_group",
        "name": "Aircraft Detail",
        "tab": "65a0877e913c9221",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5d571e7886c72a5e",
        "type": "ui_group",
        "name": "Message Counts",
        "tab": "65a0877e913c9221",
        "order": 4,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4c155ec52a777248",
        "type": "ui_spacer",
        "z": "9e95f962de164512",
        "name": "spacer",
        "group": "2a53099271750475",
        "order": 13,
        "width": "4",
        "height": "3"
    },
    {
        "id": "17ec8980f99bcf15",
        "type": "ui_spacer",
        "z": "eeaa68697bf28d0e",
        "name": "spacer",
        "group": "350b84a00a67874f",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "4d1967cb65cc77be",
        "type": "ui_group",
        "name": "Signal Strength",
        "tab": "65a0877e913c9221",
        "order": 5,
        "disp": false,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c8c37713f6d3bdbb",
        "type": "file in",
        "z": "9e95f962de164512",
        "name": "",
        "filename": "payload",
        "filenameType": "msg",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 300,
        "y": 100,
        "wires": [
            [
                "bde103ae399da555"
            ]
        ]
    },
    {
        "id": "bde103ae399da555",
        "type": "json",
        "z": "9e95f962de164512",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 450,
        "y": 100,
        "wires": [
            [
                "7f3c6f83cc47b9f3"
            ]
        ]
    },
    {
        "id": "7f3c6f83cc47b9f3",
        "type": "change",
        "z": "9e95f962de164512",
        "name": "basename -> topic",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "$split(file, \".\")[0]\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 220,
        "wires": [
            [
                "971b764e2dc64f2f"
            ]
        ]
    },
    {
        "id": "971b764e2dc64f2f",
        "type": "switch",
        "z": "9e95f962de164512",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "stats",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "receiver",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "aircraft",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 4,
        "x": 470,
        "y": 220,
        "wires": [
            [
                "3aa8cd7ef5bedf96"
            ],
            [
                "30e5781db4b94abc"
            ],
            [
                "07477b5e52ba360d"
            ],
            []
        ]
    },
    {
        "id": "3aa8cd7ef5bedf96",
        "type": "link out",
        "z": "9e95f962de164512",
        "name": "stats json",
        "mode": "link",
        "links": [
            "87ae45c3d541df2a"
        ],
        "x": 595,
        "y": 180,
        "wires": []
    },
    {
        "id": "07477b5e52ba360d",
        "type": "change",
        "z": "9e95f962de164512",
        "name": "-> payload",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.aircraft",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 260,
        "wires": [
            [
                "24a4224a09280ab5",
                "8cdf09e540f54f76"
            ]
        ]
    },
    {
        "id": "24a4224a09280ab5",
        "type": "split",
        "z": "9e95f962de164512",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 810,
        "y": 280,
        "wires": [
            [
                "6a927a31926136b4"
            ]
        ]
    },
    {
        "id": "6a927a31926136b4",
        "type": "link out",
        "z": "9e95f962de164512",
        "name": "aircraft records",
        "mode": "link",
        "links": [
            "4404caecbde969ef"
        ],
        "x": 935,
        "y": 280,
        "wires": []
    },
    {
        "id": "6ec40af1917d9ff4",
        "type": "link out",
        "z": "9e95f962de164512",
        "name": "aircraft table",
        "mode": "link",
        "links": [
            "1f9a326e881f765b"
        ],
        "x": 935,
        "y": 240,
        "wires": []
    },
    {
        "id": "8cdf09e540f54f76",
        "type": "change",
        "z": "9e95f962de164512",
        "name": "aircraft db",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "aircraft-all",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 820,
        "y": 240,
        "wires": [
            [
                "6ec40af1917d9ff4"
            ]
        ]
    },
    {
        "id": "d10d82c850a158f4",
        "type": "watch",
        "z": "9e95f962de164512",
        "name": "aircraft.json",
        "files": "/run/dump1090/aircraft.json",
        "recursive": "",
        "x": 110,
        "y": 40,
        "wires": [
            [
                "c8c37713f6d3bdbb"
            ]
        ]
    },
    {
        "id": "7d6afe9bdfbef990",
        "type": "watch",
        "z": "9e95f962de164512",
        "name": "stats.json",
        "files": "/run/dump1090/stats.json",
        "recursive": "",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "c8c37713f6d3bdbb"
            ]
        ]
    },
    {
        "id": "6feadc2cf8efe32f",
        "type": "watch",
        "z": "9e95f962de164512",
        "name": "receiver.json",
        "files": "/run/dump1090/receiver.json",
        "recursive": "",
        "x": 110,
        "y": 120,
        "wires": [
            [
                "c8c37713f6d3bdbb"
            ]
        ]
    },
    {
        "id": "4560f06d8b3ec5e3",
        "type": "inject",
        "z": "9e95f962de164512",
        "name": "receiver.json",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "file",
                "v": "receiver.json",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "/run/dump1090/receiver.json",
        "payloadType": "str",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "c8c37713f6d3bdbb"
            ]
        ]
    },
    {
        "id": "30e5781db4b94abc",
        "type": "function",
        "z": "9e95f962de164512",
        "name": "set station",
        "func": "global.set('station_info',msg.payload);\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "4404caecbde969ef",
        "type": "link in",
        "z": "a434980c0d70073f",
        "name": "link in 1",
        "links": [
            "6a927a31926136b4"
        ],
        "x": 115,
        "y": 60,
        "wires": [
            [
                "b54a18c9b35f8e47"
            ]
        ]
    },
    {
        "id": "03565d1e34e0f066",
        "type": "change",
        "z": "a434980c0d70073f",
        "name": "prepare for mapping",
        "rules": [
            {
                "t": "set",
                "p": "payload.name",
                "pt": "msg",
                "to": "payload.hex",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "payload.icon",
                "pt": "msg",
                "to": "payload.flight ? $match(payload.flight, /^N/) ? \"smallplane\" : \"plane\" : \"arrow\"\t",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.layer",
                "pt": "msg",
                "to": "aircraft",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.speed",
                "pt": "msg",
                "to": "payload.gs * 0.5144",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.clickable",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 220,
        "wires": [
            [
                "87cc40c1a40284e1"
            ]
        ]
    },
    {
        "id": "bc502453312cb200",
        "type": "change",
        "z": "a434980c0d70073f",
        "name": "set label",
        "rules": [
            {
                "t": "set",
                "p": "payload.label",
                "pt": "msg",
                "to": "payload.flight ? payload.flight : $uppercase(payload.name)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 240,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "19e42b65ee2aa91e",
        "type": "ui_worldmap",
        "z": "a434980c0d70073f",
        "group": "8363fd07a79e8b50",
        "order": 1,
        "width": 22,
        "height": "15",
        "name": "",
        "lat": "",
        "lon": "",
        "zoom": "8",
        "layer": "OSMC",
        "cluster": "7",
        "maxage": "60",
        "usermenu": "show",
        "layers": "show",
        "panit": "false",
        "panlock": "false",
        "zoomlock": "false",
        "hiderightclick": "true",
        "coords": "deg",
        "showgrid": "false",
        "showruler": "false",
        "allowFileDrop": "false",
        "path": "/worldmap",
        "overlist": "AC,HM",
        "maplist": "OSMC,EsriC,OpTop",
        "mapname": "",
        "mapurl": "",
        "mapopt": "",
        "mapwms": false,
        "x": 1160,
        "y": 420,
        "wires": []
    },
    {
        "id": "bc940bbd8afbab5b",
        "type": "link in",
        "z": "a434980c0d70073f",
        "name": "map commands",
        "links": [
            "ccea04533f04c5b6",
            "8de3708ef73f6a49"
        ],
        "x": 595,
        "y": 300,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "d388b17fb291ff1b",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "mappable?",
        "func": "if(!msg.payload.lat || !msg.payload.lon){\n    return null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 140,
        "wires": [
            [
                "03565d1e34e0f066"
            ]
        ]
    },
    {
        "id": "b54a18c9b35f8e47",
        "type": "switch",
        "z": "a434980c0d70073f",
        "name": "gate",
        "property": "gate",
        "propertyType": "global",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 210,
        "y": 60,
        "wires": [
            [
                "d388b17fb291ff1b"
            ]
        ]
    },
    {
        "id": "de1ae4030d39dba1",
        "type": "worldmap in",
        "z": "a434980c0d70073f",
        "name": "",
        "path": "/worldmap",
        "events": "connect,disconnect,point,draw,layer,bounds,files,other",
        "x": 140,
        "y": 400,
        "wires": [
            [
                "8acf7b689dd92894",
                "00d6443f011302b7"
            ]
        ]
    },
    {
        "id": "8acf7b689dd92894",
        "type": "link out",
        "z": "a434980c0d70073f",
        "name": "map events",
        "mode": "link",
        "links": [
            "871ab37f14081d6c"
        ],
        "x": 275,
        "y": 360,
        "wires": []
    },
    {
        "id": "f7800a14d83ea623",
        "type": "change",
        "z": "a434980c0d70073f",
        "name": "station marker",
        "rules": [
            {
                "t": "set",
                "p": "payload.layer",
                "pt": "msg",
                "to": "station",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.icon",
                "pt": "msg",
                "to": "bolt",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.name",
                "pt": "msg",
                "to": "Station",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload.ttl",
                "pt": "msg",
                "to": "360000",
                "tot": "num"
            },
            {
                "t": "set",
                "p": "payload.command",
                "pt": "msg",
                "to": "{\t   \"lat\":payload.lat,\t   \"lon\":payload.lon\t}",
                "tot": "jsonata"
            },
            {
                "t": "set",
                "p": "payload.popup",
                "pt": "msg",
                "to": "$join([\"<table width=\\\"100%\\\">\",\t\"<tr><th>Version</th><td>\",\t$string(payload.version),\t\"</td></tr><tr><th>Geo</th><td>\",\t$string(payload.lat),\"&deg;, \",$string(payload.lon),\t\"&deg;</td></tr>\",\t\"</table>\"])",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 400,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "4bf3dd3861bb7d93",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "range rings",
        "func": "const msgs = [];\nconst m_per_10nm = 18520;\nfor (let i = 1; i < 15; i++) {\n    msgs.push({\n        payload: {\n            name: `RR_${i}`,\n            radius: i * m_per_10nm,\n            layer: 'station',\n            lat: msg.payload.lat,\n            lon: msg.payload.lon,\n            weight: 0.2,\n            fill:false\n        }\n    });\n}\nfor (let i = 5; i <= 30; i+=5) {\n    msgs.push({\n        payload: {\n            name: `RR_${i}`,\n            radius: i * m_per_10nm,\n            layer: 'station',\n            lat: msg.payload.lat,\n            lon: msg.payload.lon,\n            weight: 0.6,\n            fill:false\n        }\n    });\n}\n\nreturn [msgs];",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 440,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "00d6443f011302b7",
        "type": "switch",
        "z": "a434980c0d70073f",
        "name": "",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "connected",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "click",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 460,
        "wires": [
            [
                "f3cf3a3ccc351826",
                "c341eed5db7018cd",
                "f1e6ccd209d55813"
            ],
            [
                "cf9d1ea62b0b4c63"
            ],
            []
        ]
    },
    {
        "id": "f3cf3a3ccc351826",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "add buttons",
        "func": "msg.payload = {\n    \"command\": {\n        \"button\":[{\n            \"action\": \"button\",\n            \"name\": \"home\",\n            \"icon\": \"fa-home\"\n        }, {\n            \"action\": \"button\",\n            \"name\": \"pause\",\n            \"icon\": \"fa-pause\"\n        }]\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 480,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "89a2cfb06ff4e670",
        "type": "switch",
        "z": "a434980c0d70073f",
        "name": "is selected?",
        "property": "payload.hex",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "selected_aircraft",
                "vt": "global"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 570,
        "y": 220,
        "wires": [
            [
                "d6762f5a047dd040",
                "bc502453312cb200"
            ],
            [
                "f5e55d44c5c8454f"
            ]
        ]
    },
    {
        "id": "d6762f5a047dd040",
        "type": "link out",
        "z": "a434980c0d70073f",
        "name": "selected aircraft",
        "mode": "link",
        "links": [
            "0c44eb2cbf0f050f"
        ],
        "x": 715,
        "y": 200,
        "wires": []
    },
    {
        "id": "f5e55d44c5c8454f",
        "type": "change",
        "z": "a434980c0d70073f",
        "name": "clear label",
        "rules": [
            {
                "t": "set",
                "p": "payload.label",
                "pt": "msg",
                "to": "null",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 770,
        "y": 280,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "cf9d1ea62b0b4c63",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "save selected aircraft",
        "func": "const current = global.get('selected_aircraft');\n\nif(msg.payload.hex == current){\n    global.set('selected_aircraft', null);\n} else {\n    global.set('selected_aircraft', msg.payload.hex);\n}\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nglobal.set('selected_aircraft',null);",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 560,
        "wires": [
            [
                "8de3708ef73f6a49"
            ]
        ]
    },
    {
        "id": "8de3708ef73f6a49",
        "type": "link out",
        "z": "a434980c0d70073f",
        "name": "selected",
        "mode": "link",
        "links": [
            "bc940bbd8afbab5b"
        ],
        "x": 895,
        "y": 560,
        "wires": []
    },
    {
        "id": "87cc40c1a40284e1",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "color by alt",
        "func": "const alt = Math.min(msg.payload.alt_baro, 45000);\nconst hue = 0.00444444444*alt + 100;\nmsg.payload.iconColor = hslToHex(hue, 50, 50)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [
            {
                "var": "hslToHex",
                "module": "hsl-to-hex"
            }
        ],
        "x": 370,
        "y": 220,
        "wires": [
            [
                "89a2cfb06ff4e670"
            ]
        ]
    },
    {
        "id": "c341eed5db7018cd",
        "type": "change",
        "z": "a434980c0d70073f",
        "name": "legend",
        "rules": [
            {
                "t": "set",
                "p": "payload.command",
                "pt": "msg",
                "to": "{\"legend\":\"<em>Range&nbsp;markers&nbsp;10&nbsp;nm</em>&nbsp;<b>Altitude</b>&nbsp;<div style=\\\"width:5rem;background:#6abf40;color:#000;text-align:center;display:inline-block;\\\">0 ft</div><div style=\\\"width:5rem;background:#40bf44;color:#000;text-align:center;display:inline-block;\\\">5000 ft</div><div style=\\\"width:5rem;background:#40bf74;color:#000;text-align:center;display:inline-block;\\\">10000 ft</div><div style=\\\"width:5rem;background:#40bfa3;color:#000;text-align:center;display:inline-block;\\\">15000 ft</div><div style=\\\"width:5rem;background:#40acbf;color:#000;text-align:center;display:inline-block;\\\">20000 ft</div><div style=\\\"width:5rem;background:#407dbf;color:#000;text-align:center;display:inline-block;\\\">25000 ft</div><div style=\\\"width:5rem;background:#404ebf;color:#000;text-align:center;display:inline-block;\\\">30000 ft</div><div style=\\\"width:5rem;background:#6140bf;color:#000;text-align:center;display:inline-block;\\\">35000 ft</div><div style=\\\"width:5rem;background:#9040bf;color:#000;text-align:center;display:inline-block;\\\">40000 ft</div>\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 520,
        "wires": [
            [
                "19e42b65ee2aa91e"
            ]
        ]
    },
    {
        "id": "50b0dd087d686c09",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "clr info panel",
        "func": "\nreturn !msg.payload ? msg : null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 620,
        "wires": [
            [
                "fd2c1e025c7ee70b"
            ]
        ]
    },
    {
        "id": "203f73770cea7a6c",
        "type": "context-monitor",
        "z": "a434980c0d70073f",
        "name": "",
        "monitoring": [
            {
                "scope": "global",
                "key": "selected_aircraft"
            }
        ],
        "tostatus": false,
        "x": 140,
        "y": 640,
        "wires": [
            [
                "50b0dd087d686c09"
            ],
            []
        ]
    },
    {
        "id": "fd2c1e025c7ee70b",
        "type": "link out",
        "z": "a434980c0d70073f",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "0c44eb2cbf0f050f"
        ],
        "x": 505,
        "y": 620,
        "wires": []
    },
    {
        "id": "f1e6ccd209d55813",
        "type": "function",
        "z": "a434980c0d70073f",
        "name": "get station info",
        "func": "msg.payload =Object.assign({}, global.get('station_info'));\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 420,
        "wires": [
            [
                "f7800a14d83ea623",
                "4bf3dd3861bb7d93"
            ]
        ]
    },
    {
        "id": "7e34ee95dc8e0367",
        "type": "function",
        "z": "9484dc2f12c3f5c6",
        "name": "close gate",
        "func": "global.set('gate', false)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nglobal.set('gate', true)\n",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 200,
        "wires": [
            [
                "ed396439b33bd82d",
                "a41a3563887cee67"
            ]
        ]
    },
    {
        "id": "ccea04533f04c5b6",
        "type": "link out",
        "z": "9484dc2f12c3f5c6",
        "name": "commands",
        "mode": "link",
        "links": [
            "bc940bbd8afbab5b"
        ],
        "x": 1075,
        "y": 340,
        "wires": []
    },
    {
        "id": "68e4d4b8bb64952d",
        "type": "function",
        "z": "9484dc2f12c3f5c6",
        "name": "remove btn",
        "func": "msg.payload = {\n    command: {\n        button:\n            { name: msg.payload }\n    }\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 280,
        "wires": [
            [
                "ccea04533f04c5b6"
            ]
        ]
    },
    {
        "id": "c2a33697b3672983",
        "type": "function",
        "z": "9484dc2f12c3f5c6",
        "name": "add btn",
        "func": "msg.payload = {\n    command: {\n        button:\n            { action: 'button', icon: msg.icon, name: msg.payload }\n    }\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 160,
        "wires": [
            [
                "ccea04533f04c5b6"
            ]
        ]
    },
    {
        "id": "871ab37f14081d6c",
        "type": "link in",
        "z": "9484dc2f12c3f5c6",
        "name": "link in 11",
        "links": [
            "8acf7b689dd92894"
        ],
        "x": 65,
        "y": 200,
        "wires": [
            [
                "bf8688a339f816d6"
            ]
        ]
    },
    {
        "id": "6beafc5d3a58f291",
        "type": "switch",
        "z": "9484dc2f12c3f5c6",
        "name": "button cmd",
        "property": "payload.name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "pause",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "play",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "home",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 290,
        "y": 300,
        "wires": [
            [
                "7e34ee95dc8e0367"
            ],
            [
                "404bfabdd8a730dd"
            ],
            [
                "aebb3a98dbb3438c"
            ]
        ]
    },
    {
        "id": "bf8688a339f816d6",
        "type": "switch",
        "z": "9484dc2f12c3f5c6",
        "name": "event type",
        "property": "payload.action",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "button",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 190,
        "y": 200,
        "wires": [
            [
                "6beafc5d3a58f291"
            ],
            []
        ]
    },
    {
        "id": "aebb3a98dbb3438c",
        "type": "function",
        "z": "9484dc2f12c3f5c6",
        "name": "set home",
        "func": "const sta = global.get('station_info');\nmsg.payload = {\n    command:{\n        lat:sta.lat,\n        lon:sta.lon\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 400,
        "wires": [
            [
                "ccea04533f04c5b6"
            ]
        ]
    },
    {
        "id": "404bfabdd8a730dd",
        "type": "function",
        "z": "9484dc2f12c3f5c6",
        "name": "open gate",
        "func": "global.set('gate', true)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nglobal.set('gate', true)\n",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 300,
        "wires": [
            [
                "3179e6777df5fe1d",
                "94c216a970a26ad9"
            ]
        ]
    },
    {
        "id": "ed396439b33bd82d",
        "type": "change",
        "z": "9484dc2f12c3f5c6",
        "name": "rm pause",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "pause",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 240,
        "wires": [
            [
                "68e4d4b8bb64952d"
            ]
        ]
    },
    {
        "id": "a41a3563887cee67",
        "type": "change",
        "z": "9484dc2f12c3f5c6",
        "name": "add play",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "play",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "fa-play",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 200,
        "wires": [
            [
                "c2a33697b3672983"
            ]
        ]
    },
    {
        "id": "3179e6777df5fe1d",
        "type": "change",
        "z": "9484dc2f12c3f5c6",
        "name": "rm play",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "play",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 300,
        "wires": [
            [
                "68e4d4b8bb64952d"
            ]
        ]
    },
    {
        "id": "94c216a970a26ad9",
        "type": "change",
        "z": "9484dc2f12c3f5c6",
        "name": "add pause",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "pause",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "icon",
                "pt": "msg",
                "to": "fa-pause",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 340,
        "wires": [
            [
                "c2a33697b3672983"
            ]
        ]
    },
    {
        "id": "a7ace214529cc712",
        "type": "ui_table",
        "z": "eeaa68697bf28d0e",
        "group": "350b84a00a67874f",
        "name": "Aircraft Info",
        "order": 1,
        "width": 8,
        "height": "8",
        "columns": [
            {
                "field": "hex",
                "title": "ICAO",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "flight",
                "title": "Flight",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "track",
                "title": "Track",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "gs",
                "title": "Speed",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "alt_baro",
                "title": "Alt",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 430,
        "y": 80,
        "wires": [
            [
                "8b016976a684ee48"
            ]
        ]
    },
    {
        "id": "1f9a326e881f765b",
        "type": "link in",
        "z": "eeaa68697bf28d0e",
        "name": "link in 6",
        "links": [
            "6ec40af1917d9ff4"
        ],
        "x": 225,
        "y": 80,
        "wires": [
            [
                "a7ace214529cc712"
            ]
        ]
    },
    {
        "id": "ac14fbfe9a152586",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 1,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "ICAO",
        "format": "{{msg.payload.hex}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1090,
        "y": 60,
        "wires": []
    },
    {
        "id": "e28964d4782e8217",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 2,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Flight",
        "format": "{{msg.payload.flight}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1090,
        "y": 100,
        "wires": []
    },
    {
        "id": "b9cb0a1cdd3f4461",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 3,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Squawk",
        "format": "{{msg.payload.squawk}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1100,
        "y": 140,
        "wires": []
    },
    {
        "id": "fd5e3a141c325093",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 8,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Alt (baro)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1100,
        "y": 260,
        "wires": []
    },
    {
        "id": "0151e9ab920d1bd1",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 9,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Alt (geo)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1100,
        "y": 300,
        "wires": []
    },
    {
        "id": "689ba6b091c177da",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 4,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Heading (nav)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1120,
        "y": 380,
        "wires": []
    },
    {
        "id": "074a4ccc56f2dacd",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 5,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Track",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1090,
        "y": 420,
        "wires": []
    },
    {
        "id": "094a915d2e8ecc27",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 6,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Speed (gnd)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1110,
        "y": 460,
        "wires": []
    },
    {
        "id": "34cc59fd649a7191",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 11,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Signal",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1090,
        "y": 180,
        "wires": []
    },
    {
        "id": "cd9e87c74de263fe",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 12,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Last Seen",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1110,
        "y": 220,
        "wires": []
    },
    {
        "id": "87ae45c3d541df2a",
        "type": "link in",
        "z": "eeaa68697bf28d0e",
        "name": "link in 8",
        "links": [
            "3aa8cd7ef5bedf96"
        ],
        "x": 105,
        "y": 380,
        "wires": [
            [
                "267b5709df750d49",
                "0926e908e6084683"
            ]
        ]
    },
    {
        "id": "6d30a9103e1e4ff4",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 10,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Vert Rate",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1100,
        "y": 340,
        "wires": []
    },
    {
        "id": "07105d583fe42a36",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.seen ? $join([$string(payload.seen),\"sec\"],\" \") : \"\"\t",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 220,
        "wires": [
            [
                "cd9e87c74de263fe"
            ]
        ]
    },
    {
        "id": "634713a7cd70f4b1",
        "type": "ui_table",
        "z": "eeaa68697bf28d0e",
        "group": "5d571e7886c72a5e",
        "name": "By Min",
        "order": 1,
        "width": 8,
        "height": 3,
        "columns": [
            {
                "field": "metric",
                "title": "Metric",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "last1min",
                "title": "1 Min",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "last5min",
                "title": "5 Min",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "last15min",
                "title": "15 Min",
                "width": "",
                "align": "left",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 0,
        "cts": false,
        "x": 550,
        "y": 360,
        "wires": []
    },
    {
        "id": "499dc708fa5b15c6",
        "type": "ui_text",
        "z": "eeaa68697bf28d0e",
        "group": "2a53099271750475",
        "order": 7,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Speed (air)",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1110,
        "y": 500,
        "wires": []
    },
    {
        "id": "267b5709df750d49",
        "type": "function",
        "z": "eeaa68697bf28d0e",
        "name": "1/5/15 Min",
        "func": "const periods = ['last1min','last5min','last15min'];\nconst metrics = ['accepted','rejected','peak_signal'];\nconst msgs = [];\n\n// sum the accepted\nfor (let period of periods) {\n    msg.payload[period].local.accepted = msg.payload[period].local.accepted.reduce((a,b)=>a+b,0);\n    msg.payload[period].local.rejected = msg.payload[period].local.bad;\n}\n\nfor(let metric of metrics){\n    msgs.push( {\n        topic:metric,\n        payload:{\n            metric,\n            last1min: msg.payload.last1min.local[metric],\n            last5min: msg.payload.last5min.local[metric],\n            last15min: msg.payload.last15min.local[metric],\n        }\n    });\n}\n\nmsgs[msgs.length-1].complete = true;\nreturn [msgs];",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 360,
        "wires": [
            [
                "39b4ca1e2c0e181e"
            ]
        ]
    },
    {
        "id": "39b4ca1e2c0e181e",
        "type": "join",
        "z": "eeaa68697bf28d0e",
        "name": "",
        "mode": "custom",
        "build": "array",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 410,
        "y": 360,
        "wires": [
            [
                "634713a7cd70f4b1"
            ]
        ]
    },
    {
        "id": "0926e908e6084683",
        "type": "function",
        "z": "eeaa68697bf28d0e",
        "name": "lastest signal",
        "func": "const msgs = [];\nmsgs.push({\n    topic: 'signal',\n    payload: msg.payload.last1min.local.signal\n});\nmsgs.push({\n    topic: 'noise',\n    payload: msg.payload.last1min.local.noise\n});\n\nreturn [msgs];",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 400,
        "wires": [
            [
                "39d1c07212f906ea"
            ]
        ]
    },
    {
        "id": "39d1c07212f906ea",
        "type": "ui_chart",
        "z": "eeaa68697bf28d0e",
        "name": "",
        "group": "4d1967cb65cc77be",
        "order": 2,
        "width": 8,
        "height": "3",
        "label": "dBFS",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "15",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 550,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "0c44eb2cbf0f050f",
        "type": "link in",
        "z": "eeaa68697bf28d0e",
        "name": "link in 12",
        "links": [
            "d6762f5a047dd040",
            "fd2c1e025c7ee70b"
        ],
        "x": 225,
        "y": 140,
        "wires": [
            [
                "d159cb379744e1be"
            ]
        ]
    },
    {
        "id": "8b016976a684ee48",
        "type": "function",
        "z": "eeaa68697bf28d0e",
        "name": "save selected aircraft",
        "func": "const current = global.get('selected_aircraft');\n\nif(msg.payload.hex == current){\n    global.set('selected_aircraft', null);\n} else {\n    global.set('selected_aircraft', msg.payload.hex);\n}\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// Code added here will be run once\n// whenever the node is started.\nglobal.set('selected_aircraft',null);",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "bc236f22919be28f",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.alt_baro ? $join([$string(payload.alt_baro),\"ft\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 260,
        "wires": [
            [
                "fd5e3a141c325093"
            ]
        ]
    },
    {
        "id": "9130f980f5816580",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.alt_geom ? $join([$string(payload.alt_geom),\"ft\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 300,
        "wires": [
            [
                "0151e9ab920d1bd1"
            ]
        ]
    },
    {
        "id": "74330f337669ee8e",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.baro_rate ? $join([$string(payload.baro_rate),\"ft/min\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 340,
        "wires": [
            [
                "6d30a9103e1e4ff4"
            ]
        ]
    },
    {
        "id": "94b4ed28bf5f5067",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.nav_heading ? $join([$string(payload.nav_heading),\"&deg;\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 380,
        "wires": [
            [
                "689ba6b091c177da"
            ]
        ]
    },
    {
        "id": "ccbf121cac399284",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.track ? $join([$string(payload.track),\"&deg;\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 420,
        "wires": [
            [
                "074a4ccc56f2dacd"
            ]
        ]
    },
    {
        "id": "30dd1bf03fb3b359",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.gs ? $join([$string(payload.gs),\"kt\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 460,
        "wires": [
            [
                "094a915d2e8ecc27"
            ]
        ]
    },
    {
        "id": "4cd24fa4a2a8069e",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.ias ? $join([$string(payload.ias),\"kt\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 500,
        "wires": [
            [
                "499dc708fa5b15c6"
            ]
        ]
    },
    {
        "id": "ad0dba40fedc6dfe",
        "type": "change",
        "z": "eeaa68697bf28d0e",
        "name": "set unit",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.rssi ? $join([$string(payload.rssi),\"dBFS\"],\" \") : \"\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 180,
        "wires": [
            [
                "34cc59fd649a7191"
            ]
        ]
    }
]
